# 1) Next.js build artifacts (hashed) — safe to cache for a year
/_next/static/*
  Cache-Control: public, max-age=31536000, immutable

# 2) Own static assets (images, fonts, SVG, etc.) — also immutable if filenames are content-hashed
# Adjust paths to match your project structure:
/images/*
  Cache-Control: public, max-age=31536000, immutable
/assets/*
  Cache-Control: public, max-age=31536000, immutable
/fonts/*
  Cache-Control: public, max-age=31536000, immutable

# 3) Default catch-all for HTML/SSR responses — always revalidate
# More specific rules above take precedence.
/*
  Cache-Control: public, max-age=0, must-revalidate
  # Synthesia player allowed under frame-src/connect-src for embedded explainer video
  Content-Security-Policy: default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://cdn.segment.synthesia.io; style-src 'self' 'unsafe-inline' https://*.execute-api.eu-west-1.amazonaws.com; img-src 'self' data: https:; font-src 'self' data:; connect-src 'self' https://api.prd.synthesia.io https://*.execute-api.eu-west-1.amazonaws.com https://cdn.segment.synthesia.io; frame-src 'self' https://share.synthesia.io https://js.stripe.com; frame-ancestors 'self'; base-uri 'self'; form-action 'self'
  Permissions-Policy: autoplay=*, fullscreen=*, picture-in-picture=*
